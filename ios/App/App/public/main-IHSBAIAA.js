import{a as M,b as E,d as k}from"./chunk-FR25SOMW.js";import{a as H,b as O,c as j}from"./chunk-5KXAVMHD.js";import"./chunk-7AN7JYJZ.js";import{B as d,I as f,J as v,K as g,Ya as y,aa as S,c as a,d as m,f as c,g as p,ha as I,i as s,ja as C,ka as P,l,ma as R,o as h,oa as w,pa as A,qa as T,z as u}from"./chunk-DN2CCYCQ.js";import"./chunk-4FSDOUDN.js";import"./chunk-QUJFQN2Y.js";import"./chunk-52NB65J3.js";import"./chunk-RAVFJZE4.js";import"./chunk-VMZPYCRQ.js";import"./chunk-IBV5KO5Y.js";import"./chunk-FIDLRQ4U.js";import"./chunk-YIEIW7HL.js";import"./chunk-AG56GGKF.js";import"./chunk-QNCTVU3D.js";import"./chunk-SVRMZDM2.js";import"./chunk-XSIZ6EJ5.js";import"./chunk-4OPPRTVR.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-AG267OCX.js";import"./chunk-CKP3SGE2.js";import"./chunk-ISOIAWKO.js";import"./chunk-7KEFWFXM.js";import"./chunk-GKKLXE4C.js";import"./chunk-4PRTHX43.js";import"./chunk-P6XIPAG4.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-FNBMHXHF.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-B7O3QC5Z.js";var x=[{path:"",redirectTo:"welcome",pathMatch:"full"},{path:"welcome",loadComponent:()=>import("./chunk-UZN4OVOR.js").then(e=>e.WelcomePage)},{path:"login",loadComponent:()=>import("./chunk-IXHBQFYR.js").then(e=>e.LoginPage)},{path:"verificador",loadComponent:()=>import("./chunk-FXWDNAEQ.js").then(e=>e.VerificadorPage)},{path:"operativo",loadComponent:()=>import("./chunk-INSZG3JU.js").then(e=>e.OperativoPage)},{path:"home",loadComponent:()=>import("./chunk-7XORL6YT.js").then(e=>e.HomePage)},{path:"inicio-operativo/:zonaId",loadComponent:()=>import("./chunk-J4MJQ6LG.js").then(e=>e.InicioOperativoPage)},{path:"inicio-mouse/:id/:zonaId",loadComponent:()=>import("./chunk-COUVHTQO.js").then(e=>e.InicioMousePage)}];var z=(()=>{let t=class t{constructor(o){this.authService=o}intercept(o,r){return a(this.authService.getAccessToken()).pipe(p(i=>(i&&(o=o.clone({setHeaders:{Authorization:`Bearer ${i}`}})),r.handle(o).pipe(c(n=>n.status===401?a(this.handle401(o,r)):m(()=>n))))))}handle401(o,r){return a(this.authService.getRefreshToken()).pipe(p(i=>{if(!i)throw this.authService.logout(),new Error("Session expired");return this.authService.refreshToken(i).pipe(p(n=>{this.authService.storage.set("access_token",n.token);let b=o.clone({setHeaders:{Authorization:`Bearer ${n.token}`}});return r.handle(b)}))}))}};t.\u0275fac=function(r){return new(r||t)(l(j))},t.\u0275prov=s({token:t,factory:t.\u0275fac});let e=t;return e})();var F=(()=>{let t=class t{constructor(o){this.idleService=o}ngOnInit(){this.idleService.startWatching()}};t.\u0275fac=function(r){return new(r||t)(u(O))},t.\u0275cmp=d({type:t,selectors:[["app-root"]],features:[S([{provide:C,useClass:z,multi:!0}])],decls:2,vars:0,template:function(r,i){r&1&&(f(0,"ion-app"),g(1,"ion-router-outlet"),v())},dependencies:[E,M],encapsulation:2});let e=t;return e})();I(F,{providers:[{provide:R,useClass:y},k(),A(x,T(w)),P(),h(H.forRoot())]});
