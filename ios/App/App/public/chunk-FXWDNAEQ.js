import{b as W,l as j,n as z,s as A}from"./chunk-NUDZYK2Y.js";import{a as B}from"./chunk-MDMPCXAC.js";import{c as F}from"./chunk-5KXAVMHD.js";import"./chunk-7AN7JYJZ.js";import{$ as x,$a as y,B as _,H as b,I as n,J as r,K as c,O as g,Oa as M,Pa as k,Qa as P,W as f,Z as m,_ as h,_a as v,ab as O,bb as S,cb as I,db as T,fa as C,kb as E,lb as V,na as w,y as u,z as s}from"./chunk-DN2CCYCQ.js";import"./chunk-4FSDOUDN.js";import"./chunk-QUJFQN2Y.js";import"./chunk-52NB65J3.js";import"./chunk-RAVFJZE4.js";import"./chunk-VMZPYCRQ.js";import"./chunk-FIDLRQ4U.js";import"./chunk-YIEIW7HL.js";import"./chunk-AG56GGKF.js";import"./chunk-QNCTVU3D.js";import"./chunk-SVRMZDM2.js";import"./chunk-XSIZ6EJ5.js";import"./chunk-4OPPRTVR.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-AG267OCX.js";import"./chunk-CKP3SGE2.js";import"./chunk-ISOIAWKO.js";import"./chunk-7KEFWFXM.js";import"./chunk-GKKLXE4C.js";import"./chunk-4PRTHX43.js";import"./chunk-P6XIPAG4.js";import"./chunk-DNTR6X5U.js";import"./chunk-M2X7KQLB.js";import"./chunk-FNBMHXHF.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as d}from"./chunk-B7O3QC5Z.js";var K=(()=>{let a=class a{constructor(t,i,e){this.router=t,this.authService=i,this.toastController=e,this.usuario="",this.contrasena="",B({personOutline:A,keyOutline:j,lockClosedOutline:z,arrowBackOutline:W})}goBack(){this.router.navigate(["/login"])}acceder(){return d(this,null,function*(){if(!this.usuario||!this.contrasena){this.showToast("Por favor ingresa usuario y contrase\xF1a");return}try{let t=yield this.authService.login(this.usuario,this.contrasena).toPromise();t?.token?(yield this.authService.storage.set("access_token",t.token),yield this.authService.storage.set("refresh_token",t.refreshToken),this.router.navigate(["/home"])):this.showToast("Credenciales inv\xE1lidas")}catch(t){this.showToast("Error al iniciar sesi\xF3n"),console.error(t)}})}showToast(t){return d(this,null,function*(){yield(yield this.toastController.create({message:t,duration:2e3,position:"bottom",color:"danger"})).present()})}};a.\u0275fac=function(i){return new(i||a)(s(w),s(F),s(E))},a.\u0275cmp=_({type:a,selectors:[["app-verificador"]],decls:19,vars:3,consts:[[1,"verificador-content",3,"fullscreen"],[1,"wrap"],["fill","clear",1,"back-button",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"middle"],[1,"icon-container"],["src","../../../assets/images/3D_Forma_Sesion.png","alt","Icono Verificador"],[1,"title"],[1,"input-container"],["lines","none",1,"custom-input"],["name","person-outline","slot","start",1,"input-icon-circle"],["placeholder","Usuario",1,"input-text",3,"ngModelChange","ngModel"],["name","key-outline","slot","start",1,"input-icon-circle"],["type","password","placeholder","Contrase\xF1a",1,"input-text",3,"ngModelChange","ngModel"],[1,"access-button",3,"click"]],template:function(i,e){i&1&&(n(0,"ion-content",0)(1,"div",1)(2,"ion-button",2),g("click",function(){return e.goBack()}),c(3,"ion-icon",3),r(),n(4,"div",4)(5,"div",5),c(6,"img",6),r(),n(7,"h1",7),f(8,"Verificador"),r(),n(9,"div",8)(10,"ion-item",9),c(11,"ion-icon",10),n(12,"ion-input",11),x("ngModelChange",function(o){return h(e.usuario,o)||(e.usuario=o),o}),r()()(),n(13,"div",8)(14,"ion-item",9),c(15,"ion-icon",12),n(16,"ion-input",13),x("ngModelChange",function(o){return h(e.contrasena,o)||(e.contrasena=o),o}),r()()(),n(17,"ion-button",14),g("click",function(){return e.acceder()}),f(18,"Acceder"),r()()()()),i&2&&(b("fullscreen",!0),u(12),m("ngModel",e.usuario),u(4),m("ngModel",e.contrasena))},dependencies:[V,y,O,S,I,T,v,C,P,M,k],styles:['.verificador-content[_ngcontent-%COMP%]{--background: none}.verificador-content[_ngcontent-%COMP%]::part(background){background:url("./media/Inicio_Sesion_OP-7APTYYHU.png") no-repeat center/cover}.middle[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;gap:16px}.wrap[_ngcontent-%COMP%]{min-height:calc(100dvh - var(--keyboard-offset, 0px));display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:16px;position:relative;padding-inline:20px;padding-bottom:36px;padding-top:clamp(12px,9dvh,96px)}@supports (height: 100dvh){.wrap[_ngcontent-%COMP%]{min-height:calc(100dvh - var(--keyboard-offset, 0px))}}.back-button[_ngcontent-%COMP%]{position:absolute;top:max(16px,env(safe-area-inset-top));left:16px;--border-radius: 999px;--background: rgba(10, 15, 44, .55);--color: #fff;width:36px;height:36px;display:grid;place-items:center;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.icon-container[_ngcontent-%COMP%]{background-color:#0a0f2c;border-radius:999px;padding:14px;border:2px solid #0044ff;display:grid;place-items:center}.icon-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:82px;height:82px;object-fit:contain;filter:drop-shadow(0 6px 20px rgba(0,136,255,.4))}.title[_ngcontent-%COMP%]{font-size:24px;color:#fff;font-weight:700;margin:4px 0;text-align:center}.input-container[_ngcontent-%COMP%]{width:100%;max-width:280px;display:flex;flex-direction:column;gap:0px;margin-top:67px}.input-container[_ngcontent-%COMP%]:first-of-type{margin-top:54px}.input-container[_ngcontent-%COMP%] + .input-container[_ngcontent-%COMP%]{margin-top:15px}.custom-input[_ngcontent-%COMP%]{--padding-start: 10px;--inner-padding-end: 10px;--min-height: 56px;--background: rgba(17,23,56,.72);--inner-border-width: 0;border:2px solid #0044ff;border-radius:14px;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.input-icon-circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:2px solid #0044ff;background:#0a0f2ca6;display:grid;place-items:center;font-size:18px;color:#8ec8ff;margin-right:10px;box-shadow:inset 0 0 10px #0088ff2e,0 0 10px #0088ff1f}.input-icon-circle.hash[_ngcontent-%COMP%]{font-weight:500;color:#cfe2ff}ion-select[_ngcontent-%COMP%]{width:100%;color:#fff}ion-input[_ngcontent-%COMP%]{--color: #fff;font-size:16px}.input-icon[_ngcontent-%COMP%]{font-size:20px;color:#0af;margin-right:8px}.input-text[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{color:#fff;font-size:16px}.access-button[_ngcontent-%COMP%]{width:100%;max-width:220px;height:52px;--background: transparent;--color: #fff;text-transform:none;font-weight:700;letter-spacing:.3px;margin-top:50px}.access-button[_ngcontent-%COMP%]::part(native){border:2px solid #2f58ff;border-radius:14px;width:100%;height:100%}']});let l=a;return l})();export{K as VerificadorPage};
