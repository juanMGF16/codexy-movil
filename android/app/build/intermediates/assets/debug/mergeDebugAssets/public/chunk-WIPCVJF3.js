import{b as W,n as A,o as D}from"./chunk-NUDZYK2Y.js";import{a as U}from"./chunk-MDMPCXAC.js";import{b as $}from"./chunk-NCVGWA5I.js";import{a as R}from"./chunk-7AN7JYJZ.js";import{$ as y,A as l,C as v,F as k,I as d,J as r,K as a,L as p,O as w,P as g,Q as C,X as f,Y as M,Ya as j,Za as F,_ as O,_a as B,aa as P,ea as I,ga as z,j as h,ja as S,jb as E,kb as Z,lb as H,m as b,mb as L,oa as T,pb as V,r as x,s as _,ub as N,z as c}from"./chunk-62CLSJEW.js";import"./chunk-4FSDOUDN.js";import"./chunk-QUJFQN2Y.js";import"./chunk-52NB65J3.js";import"./chunk-RAVFJZE4.js";import"./chunk-VMZPYCRQ.js";import"./chunk-FIDLRQ4U.js";import"./chunk-YIEIW7HL.js";import"./chunk-AG56GGKF.js";import"./chunk-QNCTVU3D.js";import"./chunk-SVRMZDM2.js";import"./chunk-XSIZ6EJ5.js";import"./chunk-4OPPRTVR.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-AG267OCX.js";import"./chunk-CKP3SGE2.js";import"./chunk-ISOIAWKO.js";import"./chunk-WC2L3LWL.js";import"./chunk-3VJJ7NN6.js";import"./chunk-HCWHSHIG.js";import"./chunk-Z5A6BH2J.js";import"./chunk-DNTR6X5U.js";import"./chunk-M2X7KQLB.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as u}from"./chunk-B7O3QC5Z.js";var q=(()=>{let t=class t{constructor(e){this.http=e,this.urlBase=R.apiURL+"api/Zone"}getZonas(e){return this.http.get(`${this.urlBase}/user/${e}`)}};t.\u0275fac=function(i){return new(i||t)(b(S))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Q(n,t){if(n&1){let s=w();r(0,"div",9),g("click",function(){let i=x(s).$implicit,o=C();return _(o.goToOperativo(i.id))}),r(1,"span",10),f(2),a(),r(3,"div",11),p(4,"ion-icon",12),a()()}if(n&2){let s=t.$implicit;c(2),M(s.name),c(2),d("name",s?"lock-open-outline":"lock-closed-outline")}}var de=(()=>{let t=class t{constructor(e,i,o){this.router=e,this.zonasService=i,this.authService=o,this.searchTerm="",this.zonas=[],this.cargando=!0,U({arrowBackOutline:W,lockClosedOutline:A,lockOpenOutline:D})}ngOnInit(){return u(this,null,function*(){let e=yield this.authService.getUserFromToken();e?.userId&&this.cargarZonas(e.userId)})}goBack(){this.router.navigate(["/login"])}goToOperativo(e){this.router.navigate(["/inicio-operativo",e])}filteredZonas(){return this.searchTerm?this.zonas.filter(e=>e.name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.zonas}cargarZonas(e){this.zonasService.getZonas(e).subscribe({next:i=>{this.zonas=i,this.cargando=!1},error:i=>{console.error("Error al cargar zonas",i),this.cargando=!1}})}};t.\u0275fac=function(i){return new(i||t)(l(T),l(q),l($))},t.\u0275cmp=v({type:t,selectors:[["app-home"]],decls:10,vars:3,consts:[[1,"custom-bg",3,"fullscreen"],[1,"wrap"],["fill","clear",1,"back-button",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"icon-circle"],["src","../../../assets/images/heroicons_map-pin.png","alt","Ubicaci\xF3n"],[1,"title"],["placeholder","Buscar...","debounce","300",3,"ngModelChange","ngModel"],["class","card-zona",3,"click",4,"ngFor","ngForOf"],[1,"card-zona",3,"click"],[1,"label"],[1,"icon-circle-small"],[3,"name"]],template:function(i,o){i&1&&(r(0,"ion-content",0)(1,"div",1)(2,"ion-button",2),g("click",function(){return o.goBack()}),p(3,"ion-icon",3),a(),r(4,"div",4),p(5,"img",5),a(),r(6,"h1",6),f(7,"Zonas Operativas"),a(),r(8,"ion-searchbar",7),P("ngModelChange",function(m){return y(o.searchTerm,m)||(o.searchTerm=m),m}),a(),k(9,Q,5,2,"div",8),a()()),i&2&&(d("fullscreen",!0),c(8),O("ngModel",o.searchTerm),c(),d("ngForOf",o.filteredZonas()))},dependencies:[N,Z,H,L,V,E,z,I,B,j,F],styles:[".custom-bg[_ngcontent-%COMP%]{--background: #0b0f2c;color:#fff}.wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;position:relative}.back-button[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;--background: rgba(10, 15, 44, 0);--color: #fff;border:2px solid #3b82f6;border-radius:999px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.icon-circle[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;display:flex;justify-content:center;align-items:center;margin:50px auto 20px;background:radial-gradient(circle at top,#1e3a8a,#9233ea00);box-shadow:0 0 30px #3b82f6cc}.icon-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-bottom:20px;text-align:center;color:#fff}ion-searchbar[_ngcontent-%COMP%]{width:85%;margin:20px 0;border-radius:23px;border:2px solid #3b82f6;--background: transparent}.card-zona[_ngcontent-%COMP%]{width:85%;margin:10px 0;padding:19px 20px;border-radius:16px;background:linear-gradient(135deg,#141b3a,#0b0f2c);border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-weight:600;color:#fff;box-shadow:0 4px 20px #0009}.card-zona[_ngcontent-%COMP%]:active{transform:scale(.98)}.icon-circle-small[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;background:#2563eb;display:flex;justify-content:center;align-items:center;box-shadow:0 0 12px #3b82f699}.icon-circle-small[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff}"]});let n=t;return n})();export{de as HomePage};
